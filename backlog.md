# Neo3 Chat Application Backlog

- User wants to refactor Neo3 chat application to remove worker dependency and run directly
- User wants to clean up project structure and implement storage providers
- User wants to create global state management for currentAIProvider, currentModel, currentChat, currentStorageProvider
- User wants to make components encapsulated with their own state management and callback functions
- User wants to implement storage providers similar to AIProvider pattern
- User wants to create generic utility functions for common operations like toggles
- User wants to enable async AI message streaming that continues in background when user switches chats with toast notifications
- User wants to remove saveNewModel method and related new model functionality from chat components
- User wants to remove unused neo-worker.js file and cleanup worker references
- User wants to test refactored application for proper functionality
- User wants to fix AI message streaming to work async - messages should continue streaming to correct chat when user switches chats and show toast notifications on completion
- User wants to fix toast styles not applying properly by moving them out of nested selector to root level
- User wants to enable math and katex support for rendering mathematical expressions
- User wants to replace highlight.js with Prism.js for better performance and smarter code highlighting
- User wants to update SCSS to support Prism.js syntax highlighting with GitHub dark theme
- User wants to convert think to an extension system that handles custom tags with configurable components and robust handling of unclosed tags in streaming content
- User wants to fix missing createHTMLFromChildren and createCodeBlockHTML methods causing TypeError in remark extension
- User wants to convert custom tag system to proper remark extension instead of preprocessing
- User wants to use tag name as node type instead of generic 'customTag' type
- User wants to fix custom tag rendering not using renderer and showing raw HTML tags
- User wants to fix custom tag processing by ensuring remark transformations run after parsing
- User wants to clean up and refactor custom tag extension code by removing unnecessary parts and optimizing implementation
- User wants to fix custom tag extension to capture all content until tag is closed across multiple HTML nodes
- User wants to fix custom tag extension to prevent other nodes from rendering while custom tag is not finished
- User wants to fix nested custom tags by updating content div directly instead of re-rendering entire element
- User wants to fix remark-prism browser compatibility error by replacing with custom syntax highlighting plugin
- User wants to fix Prism syntax highlighting to support multiple programming languages beyond JavaScript
- User wants to fix Prism import errors by using correct component names and adding language mapping fallbacks
- User wants to fix Prism language component dependency loading errors by implementing async loading with proper order
- User wants to fix Go code block highlighting by switching to synchronous Prism language imports and adding golang alias
- User wants to fix syntax highlighting not working for any languages by adding debugging and improving highlighting logic
- User wants to fix Prism tokenizePlaceholders error by removing problematic language imports that cause dependency conflicts
- User wants to restore all removed Prism languages by adding markup-templating dependency to fix tokenizePlaceholders errors
- User wants to add syntax highlighting support for Dart, Julia, Elixir, Haskell, R, Perl, and Lua programming languages
- User wants to add F# and Scala syntax highlighting support to the code highlighter
- User wants to extract Prism syntax highlighting into separate module and optimize both files for better code organization
- User wants to separate DOM utilities into a dedicated DomUtils class and use it as a mixin in IncrementalMarkdown
- User wants to move remarkCustomTags function to a separate file for better code organization
- User wants to move all HTML generators and related create functions to a separate file for better code organization
- User wants to clean up duplicated HTML generation code in MDRender after moving to HTMLGenerators
- User wants to clean unused constants and duplicated code from MDRender after HTMLGenerators refactor
- User wants to add support for Mermaid diagrams in markdown code blocks with lang="mermaid"
- User wants to fix Mermaid diagram rendering stuck on "Loading diagram..." message
- User wants to keep existing Mermaid styles and fix DomUtils reference error
- Redesigned the `think` renderer to use a styled `div` instead of the `details` tag, allowing manual open/close functionality and adhering to dark mode.
- User wants to validate Mermaid code before rendering to prevent errors from invalid diagrams
- User wants to optimize Mermaid validation to avoid parsing code twice
- User wants to optimize rendering performance by caching operations, reducing DOM queries, and streamlining code generation
- User wants to fix Mermaid error styling positioning and size issues
